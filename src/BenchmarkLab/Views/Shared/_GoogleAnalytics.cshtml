@using MeasureThat.Net.Logic.Web
@using MeasureThat.Net.Models
@inject StaticSiteConfigProvider staticConfig

<environment names="Staging,Production">
    @{
        GoogleAnalyticsConfig gaconfig = staticConfig.GetGoogleAnalyticsConfig();
        if (gaconfig != null && gaconfig.Enabled)
        {
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-K23JQ1HQ6R"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag() { dataLayer.push(arguments); }
                gtag('js', new Date());

                gtag('config', 'G-K23JQ1HQ6R');
            </script>
        }
    }
</environment>

